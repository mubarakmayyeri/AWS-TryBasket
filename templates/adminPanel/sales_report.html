{% extends 'adminPanel/base.html' %}

{% load static %}

{% block content %}

<div class="container mt-3" style="min-height: 33rem;">
  <div class="card mt-3">
    <h1 class="card-header  text-center">Sales Report</h1>
    <h4 class="h4 text-center mt-3">From <b>{{start_date}}</b> To <b>{{end_date}}</b></h4>
    <div class="card-body">
      <div class="row">
        <div class="col-8 text-center">
          {% comment %} <h5 class="card-title">By Date</h5> {% endcomment %}
          <form action="{% url 'sales_report' %}" method="POST">
            {% csrf_token %}
            <div class="form">
              <label for="" class="">Starting Date : </label>
              <input type="date" id="start_date" name="start_date" required="True" max="{{today_date}}">
            </div>
            <div class="form  mt-3">
              <label for="" class="mr-2">Ending Date : </label>
            <input type="date" id="end_date" name="end_date" required="True" max="{{today_date}}">
            </div>
            <button class="btn btn-success btn-sm px-2 mt-3  px-4 ml-5" type="submit">Filter</button>
          </form>
        </div>
        <div class="col-4 d-flex flex-column">
          <a href="{% url 'pdf_report' start_date end_date %}"><button class="btn btn-danger mb-3">Export to PDF</button></a>
          <a href="{% url 'excel_report' start_date end_date  %}"><button class="btn btn-success">Export to EXCEL</button></a>
        </div>
      </div>
      {% include 'adminPanel/sales_report_table.html' %}
    </div>
  </div>
  
</div>

<script src="https://unpkg.com/htmx.org@1.8.0" integrity="sha384-cZuAZ+ZbwkNRnrKi05G/fjBX+azI9DNOkNYysZ0I/X5ZFgsmMiBXgDZof30F5ofc" crossorigin="anonymous"></script>

<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js" integrity="sha384-SR1sx49pcuLnqZUnnPwx6FCym0wLsk5JZuNx2bPPENzswTNFaQU1RDvt3wT4gWFG" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.min.js" integrity="sha384-j0CNLUeiqtyaRmlzUHCPZ+Gy5fQu0dQ6eZ/xAww941Ai1SxSY+0EQqNXNE6DZiVc" crossorigin="anonymous"></script>

{% endblock content %}